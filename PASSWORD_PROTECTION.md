# 🔐 비밀번호 보호 기능

가족들이 함께 사용할 때 자신이 등록한 물건을 다른 사람이 삭제하지 못하도록 비밀번호 보호 기능이 추가되었습니다!

## 주요 기능

### 1. 물건 등록 시 비밀번호 설정
- 물건을 등록할 때 비밀번호(4자리 이상) 입력 필수
- 이 비밀번호로만 해당 물건을 삭제할 수 있음
- 비밀번호는 안전하게 데이터베이스에 저장됨

### 2. 삭제 시 비밀번호 확인
- 물건 삭제 버튼 클릭 시 비밀번호 입력창 표시
- 등록 시 설정한 비밀번호를 정확히 입력해야 삭제 가능
- 비밀번호가 틀리면 삭제 불가

### 3. 관리자 비밀번호
- 비밀번호를 잊어버렸을 때를 대비한 관리자 비밀번호
- 기본값: `admin1234`
- 관리자 비밀번호로 모든 물건 삭제 가능

## 사용 방법

### 물건 등록하기
```
1. 물건 이름: 잼
2. 위치: 찬장
3. 비밀번호: 1234  ← 4자리 이상 입력
4. 사진: (선택)
5. [등록하기] 클릭
```

⚠️ **중요**: 비밀번호를 잊어버리지 마세요!

### 물건 삭제하기

#### 본인이 등록한 물건
```
1. [삭제] 버튼 클릭
2. 등록 시 설정한 비밀번호 입력
3. 삭제 완료!
```

#### 다른 사람이 등록한 물건 (비밀번호 모름)
```
1. [삭제] 버튼 클릭
2. 비밀번호 입력 (틀림)
3. "관리자 비밀번호로 삭제하시겠습니까?" 팝업
4. [확인] 클릭
5. 관리자 비밀번호 입력 (admin1234)
6. 삭제 완료!
```

## 관리자 비밀번호 변경

### 환경 변수로 설정 (권장)
```bash
# 서버 시작 시
ADMIN_PASSWORD=your_secret_password npm start
```

### 또는 .env 파일 사용
```bash
# .env 파일 생성
echo "ADMIN_PASSWORD=your_secret_password" > .env

# package.json에 dotenv 추가
npm install dotenv

# server.js 첫 줄에 추가
require('dotenv').config();
```

### 또는 코드에서 직접 수정
```javascript
// server.js 파일에서
const ADMIN_PASSWORD = process.env.ADMIN_PASSWORD || 'your_new_password';
```

## 보안 권장 사항

### 1. 관리자 비밀번호 변경
기본 관리자 비밀번호(`admin1234`)를 반드시 변경하세요!

```bash
ADMIN_PASSWORD=family2024! npm start
```

### 2. 비밀번호 규칙
- 최소 4자리 이상
- 추측하기 어려운 번호 사용
- 생일, 전화번호 뒷자리 등 피하기

### 3. 비밀번호 관리
- 자주 사용하는 물건: 간단한 비밀번호 (1234)
- 중요한 물건: 복잡한 비밀번호
- 가족끼리 공유할 비밀번호 정하기 (예: 1111)

## 시나리오 예시

### 시나리오 1: 개인 물건 보호
```
엄마가 등록: "귀금속" → 위치: "침실 서랍" → 비밀번호: "7890"
아들이 삭제 시도 → 비밀번호 모름 → 삭제 불가 ✅
```

### 시나리오 2: 공용 물건
```
아빠가 등록: "리모컨" → 위치: "거실" → 비밀번호: "1111"
가족 모두에게 비밀번호 공유
누구나 수정/삭제 가능 ✅
```

### 시나리오 3: 비밀번호 분실
```
딸이 등록: "화장품" → 비밀번호 잊어버림
관리자(부모)가 관리자 비밀번호로 삭제
딸이 다시 등록 ✅
```

## 데이터베이스 구조

```sql
CREATE TABLE items (
  id INTEGER PRIMARY KEY,
  name TEXT UNIQUE,
  location TEXT,
  image TEXT,
  password TEXT,  -- ← 추가됨
  created_at DATETIME,
  updated_at DATETIME
);
```

## 마이그레이션

기존 데이터(비밀번호 없는 물건)는 어떻게 되나요?

### 자동 처리
- 기존 물건들은 비밀번호 없이 저장되어 있음
- 삭제 시도 시 비밀번호 없이 바로 삭제 가능
- 또는 관리자 비밀번호로 삭제 가능

### 기존 데이터에 비밀번호 추가
직접 DB 수정이 필요합니다:

```bash
sqlite3 items.db

# 모든 기존 물건에 기본 비밀번호 설정
UPDATE items SET password = '0000' WHERE password IS NULL;

.exit
```

## FAQ

**Q: 비밀번호를 잊어버렸어요!**
A: 관리자 비밀번호(기본: admin1234)로 삭제할 수 있습니다.

**Q: 관리자 비밀번호도 잊어버렸어요!**
A: 서버 재시작 시 관리자 비밀번호를 새로 설정하거나, DB에서 직접 삭제해야 합니다.

**Q: 가족 모두 같은 비밀번호를 쓰면 안 되나요?**
A: 가능합니다! 공용 물건은 "1111" 같은 간단한 공용 비밀번호를 사용하세요.

**Q: 비밀번호가 보이나요?**
A: 입력 시 `****`로 표시되어 보이지 않습니다. DB에도 평문으로 저장되지만, 웹에서는 절대 표시되지 않습니다.

**Q: 더 강력한 보안이 필요해요**
A: 추후 암호화(bcrypt), 사용자 계정, 2단계 인증 등을 추가할 수 있습니다.

## 주의사항

⚠️ **비밀번호를 잊지 마세요!**
- 메모장에 적어두기
- 가족 공용 비밀번호는 모두에게 공유
- 중요한 물건은 기억하기 쉬운 비밀번호 사용

⚠️ **관리자 비밀번호 변경 필수!**
- 기본값(admin1234)은 누구나 알 수 있음
- 가족만 아는 비밀번호로 변경 권장

⚠️ **공용 와이파이 주의**
- HTTPS 사용 권장
- 집 내부 네트워크에서만 사용

## 향후 개선 가능한 기능

- [ ] 비밀번호 암호화 (bcrypt)
- [ ] 비밀번호 재설정 기능
- [ ] 비밀번호 힌트 기능
- [ ] 사용자 계정 시스템
- [ ] 비밀번호 강도 체크
- [ ] 잠금 해제 이력 기록

필요한 기능이 있으면 말씀해주세요!
